-- create database db_gestor;
-- drop database db_gestor;

create table db_gestor.roles(
	id_rol int auto_increment primary key,
    nombre_rol varchar(15) not null
);
insert into db_gestor.roles(nombre_rol) values ('Administrador');
insert into db_gestor.roles(nombre_rol) values ('Empleado');

select * from db_gestor.roles;

create table db_gestor.estados(
	id_estado int auto_increment primary key,
    nombre_estado varchar(15) not null
);
insert into db_gestor.estados(nombre_estado) values ('Disponible');
insert into db_gestor.estados(nombre_estado) values ('No Disponible');

select * from db_gestor.estados;

create table db_gestor.usuarios(
	id_usuario int auto_increment primary key,
    nombre_usuario varchar(60) not null,
    correo_usuario varchar(60) not null,
    pass_usuario varchar(60) not null,
    id_rol int not null,
    id_estado int not null,
    FOREIGN KEY (id_rol) REFERENCES roles(id_rol),
    FOREIGN KEY (id_estado) REFERENCES estados(id_estado)
);
insert into db_gestor.usuarios(nombre_usuario, correo_usuario, pass_usuario, id_rol, id_estado) values ('Pablo Marmol','pablomarmol@apptask.com','@apptask123', '2', '1');
insert into db_gestor.usuarios(nombre_usuario, correo_usuario, pass_usuario, id_rol, id_estado) values ('Pedro Picapiedras','pedropiedra@apptask.com','@apptask123', '2', '1');
insert into db_gestor.usuarios(nombre_usuario, correo_usuario, pass_usuario, id_rol, id_estado) values ('Luis Garcia','lgarcia@apptask.com','@apptask123', '1', '1');
insert into db_gestor.usuarios(nombre_usuario, correo_usuario, pass_usuario, id_rol, id_estado) values ('Carlos Perez','perezcarlos@apptask.com','@apptask123', '1', '1');

select * from db_gestor.usuarios;
SELECT nombre_usuario FROM db_gestor.usuarios WHERE correo_usuario='pablomarmol@apptask.com';
SELECT * FROM db_gestor.usuarios WHERE correo_usuario='pablomarmol@apptask.com' && pass_usuario='@apptask123';
      

create table db_gestor.turnos(
	id_turno int auto_increment primary key,
    nombre_turno varchar(15) not null
);
insert into db_gestor.turnos(nombre_turno) values ('Diurno');
insert into db_gestor.turnos(nombre_turno) values ('Nocturno');

select * from db_gestor.turnos;

 -- drop table db_gestor.horarios;
create table db_gestor.horarios(
	id_horario int auto_increment primary key,
    nombre_horario varchar(60) not null,
    descripcion varchar(60) not null,
    fecha_inicio date not null,
    fecha_fin date not null,
    id_turno int not null,
    FOREIGN KEY (id_turno) REFERENCES turnos(id_turno)
);
insert into db_gestor.horarios(nombre_horario, descripcion, fecha_inicio, fecha_fin, id_turno) values ('aplicacion web','desarrollo de aplicacion contable','2024-04-25', '2024-05-10','1');
insert into db_gestor.horarios(nombre_horario, descripcion, fecha_inicio, fecha_fin, id_turno) values ('aplicacion pdf','desarrollo de aplicacion pdf','2024-04-25', '2024-05-05','2');
insert into db_gestor.horarios(nombre_horario, descripcion, fecha_inicio, fecha_fin, id_turno) values ('aplicacion contador','desarrollo de aplicacion contador','2024-05-01', '2024-05-10','2');

select * from db_gestor.horarios;

create table db_gestor.actividades(
	id_actividad int auto_increment primary key,
    nombre_actividad varchar(60) not null,
    descripcion varchar(60) not null,
    id_horario int not null,
    id_usuario int not null,
    FOREIGN KEY (id_horario) REFERENCES horarios(id_horario),
    FOREIGN KEY (id_usuario) REFERENCES usuarios(id_usuario)
);
insert into db_gestor.actividades(nombre_actividad, descripcion, id_horario, id_usuario) values ('desarrollo','creacion de login','1', '1');
insert into db_gestor.actividades(nombre_actividad, descripcion, id_horario, id_usuario) values ('desarrollo','creacion de dashboard','2','2');
insert into db_gestor.actividades(nombre_actividad, descripcion, id_horario, id_usuario) values ('desarrollo','creacion de login','1','1');

select * from db_gestor.actividades;
